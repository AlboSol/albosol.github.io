<!doctype html><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Ruokasi SW reset</title>
<style>body{font-family:system-ui,-apple-system;padding:18px;background:#0b0b0f;color:#fff} .card{background:rgba(255,255,255,.08);padding:14px;border-radius:14px;border:1px solid rgba(255,255,255,.12)}</style>
<h2>Ruokasi – välimuistin puhdistus</h2>
<div class="card" id="out">Suoritetaan…</div>
<script>
(async()=>{
  const out=document.getElementById('out');
  try{
    if('serviceWorker' in navigator){
      const regs = await navigator.serviceWorker.getRegistrations();
      for(const r of regs){ await r.unregister(); }
    }
    if(window.caches){
      const keys = await caches.keys();
      for(const k of keys){ await caches.delete(k); }
    }
    out.textContent="Valmis. Sulje tämä välilehti ja avaa Ruokasi uudelleen.";
  }catch(e){
    out.textContent="Virhe: "+e;
  }
})();
</script>
